(function(e){function t(t){for(var n,i,o=t[0],l=t[1],c=t[2],m=0,u=[];m<o.length;m++)i=o[m],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&u.push(s[i][0]),s[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(u.length)u.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(n=!1)}n&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},s={app:0},r=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"11a2":function(e){e.exports=JSON.parse('{"code":"vi","messages":{"alpha":"{_field_} chỉ có thể chứa các kí tự chữ","alpha_dash":"{_field_} có thể chứa các kí tự chữ (A-Z a-z), số (0-9), gạch ngang (-) và gạch dưới (_)","alpha_num":"{_field_} chỉ có thể chứa các kí tự chữ và số","alpha_spaces":"{_field_} chỉ có thế chứa các kí tự và khoảng trắng","between":"{_field_} phải có giá trị nằm trong khoảng giữa {min} và {max}","confirmed":"{_field_} khác với {target}","digits":"Trường {_field_} chỉ có thể chứa các kí tự số và bắt buộc phải có độ dài là {length}","dimensions":"{_field_} phải có chiều rộng {width} pixels và chiều cao {height} pixels","email":"{_field_} phải là một địa chỉ email hợp lệ","excluded":"{_field_} không phải là một giá trị hợp lệ","ext":"{_field_} phải là một tệp","image":"Trường {_field_} phải là một ảnh","oneOf":"{_field_} không phải là một giá trị hợp lệ","max":"{_field_} không thể có nhiều hơn {length} kí tự","max_value":"{_field_} phải nhỏ hơn hoặc bằng {max}","mimes":"{_field_} phải chứa kiểu tệp phù hợp","min":"{_field_} phải chứa ít nhất {length} kí tự","min_value":"{_field_} phải lớn hơn hoặc bằng {min}","numeric":"{_field_} chỉ có thể có các kí tự số","regex":"{_field_} có định dạng không đúng","required":"{_field_} là bắt buộc","required_if":"{_field_} là bắt buộc","size":"{_field_} chỉ có thể chứa tệp nhỏ hơn {size}KB","notExistEmail":"{_field_} đã tồn tại"}}')},"1ec1":function(e){e.exports=JSON.parse('{"menu":[{"text":"Thông tin cá nhân","icon":"mdi-account","component_name":"Profile"},{"text":"Quản lý","icon":"mdi-clock","component_name":"HomeMember"},{"text":"Phí cá nhân","icon":"mdi-account","component_name":"PersonalFee"},{"text":"Phí gia đình","icon":"mdi-home","component_name":"HomeFee"}],"labels":{"full_name":"Họ tên","name_product":"Tên sản phẩm","date_pay":"Ngày thanh toán","price":"Gía tiền","payer":"Người thanh toán","edit":"Sửa","email":"E-mail","add_new":"Thêm mới","password":"Mật khẩu","detail":"Mô tả","add_new_member":"Thêm thành viên","home_name":"Tên nhà","address":"Địa chỉ","beneficiary":"Người sử dụng","cost_detail":"Thông tin chi tiết","admin":"Người quản lý","sum_money":"Tổng tiền","created":"Ngày tạo","updated":"Ngày cập nhật","home_info":"Thông tin nhà ở","login_form":"Đăng nhập","menu":"Menu","member":"Thành viên","manager":"Quản lý","search":"Tìm kiếm","date_pay_range":"Tháng thanh toán","select_image":"Chọn một ảnh","bill":"Hoá đơn"},"buttons":{"edit_member":"Thay đổi thành viên","done":"Xong","yes":"Có","no":"Không","add":"Thêm","cancel":"Đóng","save_edit":"Lưu thay đổi","save":"Lưu","edit":"Sửa đổi thông tin","login":"Đăng nhập","sign_up":"Đăng ký","logout":"Đăng xuất","change_avatar":"Đổi avatar"},"messages":{"error":{"email":"Nhập email","not_exist_user":"Người dùng không tồn tại","user_is_ready_in_other_home":"Người dùng đã ở một nhà nào đó!","required":"Bạn cần nhập thông tin","need_create_home":"Bạn cần tạo thông tin nhà ở trước","confirm_account_fail":"Xác nhận tài khoản thất bại !","user_info_error":"Thông tin bạn nhập không đúng !"},"success":{"add_done":"Thêm thành công","remove_done":"Xóa thành công","remove_fail":"Xóa thất bại","edit_done":"Cập nhật thành công","edit_fail":"Cập nhật thất bại","add_fail":"Thêm thất bại","confirm_account_done":"Xác nhận tài khoản thành công !","signup_done":"Đăng ký tài khoản thành công !. Một mail xác nhận tài khoản đã được gửi cho bạn, vui lòng kiểm tra họp thư !"},"alert":{"are_you_sure_delete":"Bạn có muốn xóa <strong>{name}</strong> ?","no_data":"Không có dữ liệu!","create_home":"Bạn chưa có thông tin nhà ở !","are_you_sure_delete_confirm":"Bạn có muốn xóa {name} không ?","account_not_confirm":"Tài khoản chưa được xác nhận! Bạn hãy xác nhận tài khoản trước !"},"titles":{"confirm_account":"Xác nhận tài khoản"}}}')},2851:function(e){e.exports=JSON.parse('{"menu":[{"text":"個人情報","icon":"mdi-account","component_name":"Profile"},{"text":"Quản lý","icon":"mdi-clock","component_name":"HomeMember"},{"text":"Phí cá nhân","icon":"mdi-account","component_name":"PersonalFee"},{"text":"Phí gia đình","icon":"mdi-home","component_name":"HomeFee"}],"labels":{"full_name":"Họ tên","name_product":"Tên sản phẩm","date_pay":"Ngày thanh toán","price":"Gía tiền","payer":"Người thanh toán","edit":"Sửa","email":"E-mail","add_new":"Thêm mới","password":"Mật khẩu","detail":"Mô tả","add_new_member":"Thêm thành viên","home_name":"Tên nhà","address":"Địa chỉ","beneficiary":"Người sử dụng","cost_detail":"Thông tin chi tiết","admin":"Người quản lý","sum_money":"Tổng tiền","created":"Ngày tạo","updated":"Ngày cập nhật","home_info":"Thông tin nhà ở","login_form":"Đăng nhập","menu":"Menu","member":"Thành viên","manager":"Quản lý","search":"Tìm kiếm","date_pay_range":"Tháng thanh toán"},"buttons":{"edit_member":"Thay đổi thành viên","done":"Xong","yes":"Có","no":"Không","add":"Thêm","cancel":"Đóng","save_edit":"Lưu thay đổi","save":"Lưu","edit":"Sửa đổi thông tin","login":"Đăng nhập","sign_up":"Đăng ký","logout":"Đăng xuất","change_avatar":"Đổi avatar"},"messages":{"error":{"email":"Nhập email","not_exist_user":"Người dùng không tồn tại","user_is_ready_in_other_home":"Người dùng đã ở một nhà nào đó!","required":"Bạn cần nhập thông tin","need_create_home":"Bạn cần tạo thông tin nhà ở trước"},"success":{"add_done":"Thêm thành công","remove_done":"Xóa thành công","remove_fail":"Xóa thất bại","edit_done":"Cập nhật thành công","edit_fail":"Cập nhật thất bại","add_fail":"Thêm thất bại"},"alert":{"are_you_sure_delete":"Bạn có muốn xóa <strong>{name}</strong> ?","no_data":"Không có dữ liệu!","create_home":"Bạn chưa có thông tin nhà ở !","are_you_sure_delete_confirm":"Bạn có muốn xóa {name} không ?"}}}')},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[a("div",{staticClass:"d-flex align-center"},[a("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Vuetify Logo",contain:"",src:"https://cdn.vuetifyjs.com/images/logos/vuetify-logo-dark.png",transition:"scale-transition",width:"40"}})],1),a("v-spacer"),a("Header")],1),a("v-content",[a("router-view")],1)],1)},r=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"d-inline"},[e.loginStatus?e._e():a("v-btn",{attrs:{text:"",to:"/login"}},[a("span",{staticClass:"mr-2"},[e._v(e._s(e.$t("buttons.login")))])]),e.loginStatus?a("v-btn",{attrs:{text:""},on:{click:e.logout}},[a("span",{staticClass:"mr-2"},[e._v(e._s(e.$t("buttons.logout")))]),a("v-icon",[e._v("mdi-logout")])],1):e._e(),e.loginStatus?e._e():a("v-btn",{attrs:{text:"",to:"/signup"}},[a("span",{staticClass:"mr-2"},[e._v(e._s(e.$t("buttons.sign_up")))]),a("v-icon",[e._v("mdi-account")])],1)],1),a("div",{staticClass:"d-inline"},[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({staticClass:"ma-2",attrs:{tile:"",large:"",color:"teal",icon:""}},n),[a("country-flag",{attrs:{country:e.getCountry,size:"normal"}})],1)]}}])},[a("v-list",e._l(e.items,(function(t,n){return a("v-list-item",{key:n,on:{click:function(a){return e.changeLanguage(t)}}},[a("v-btn",{staticClass:"ma-2",attrs:{tile:"",large:"",color:"teal",icon:""}},[a("country-flag",{attrs:{country:t,size:"normal"}})],1)],1)})),1)],1)],1)])},o=[],l=a("eea2"),c={components:{CountryFlag:l["a"]},data(){return{loginStatus:!1,items:["vn","jp","us"]}},created(){const e=localStorage.getItem("tweetr-token");e&&(this.loginStatus=!0)},computed:{getCountry(){const e=this.$cookie.get("language");e&&this.$store.commit("setLanguage",e);const t=this.$store.getters.getCurrentLanguages;return this.$i18n.locale=t,t}},methods:{logout(){this.loginStatus&&(localStorage.removeItem("tweetr-token"),this.$router.push("login"))},changeLanguage(e){if(this.loginStatus){const t=localStorage.getItem("tweetr-token");axios.put("/account/update_language",{language:e},{headers:{Authorization:`Bearer ${t}`}}).then(e=>{})}this.$store.commit("setLanguage",e),this.$i18n.locale=e,this.$cookie.set("language",e)}},watch:{$route(e,t){const a=localStorage.getItem("tweetr-token");this.loginStatus=!!a}}},d=c,m=a("2877"),u=a("6544"),_=a.n(u),h=a("8336"),g=a("132d"),f=a("8860"),v=a("da13"),p=a("e449"),b=Object(m["a"])(d,i,o,!1,null,null,null),k=b.exports;_()(b,{VBtn:h["a"],VIcon:g["a"],VList:f["a"],VListItem:v["a"],VMenu:p["a"]});var y={name:"App",components:{Header:k},data:()=>({}),created(){console.log(this.$i18n.locale)}},x=y,$=a("7496"),V=a("40dc"),C=a("a75b"),w=a("adda"),S=a("2fa4"),I=Object(m["a"])(x,s,r,!1,null,null,null),P=I.exports;_()(I,{VApp:$["a"],VAppBar:V["a"],VContent:C["a"],VImg:w["a"],VSpacer:S["a"]});var T=a("8c4f"),O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"grey lighten-5"},[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("MainMenu")],1),a("v-col",{attrs:{cols:"8"}},[a("Content")],1)],1)],1)},A=[],L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"mx-auto",attrs:{elevation:"5"}},[n("v-list-item",{attrs:{"two-line":""}},[n("v-list-item-avatar",[e.user.avatar?n("img",{attrs:{src:e.user.avatar}}):n("img",{attrs:{src:a("96ff"),alt:"avatar"}})]),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(e.user.name))])],1),n("v-btn",{attrs:{icon:"",color:"gray"},on:{click:function(t){return e.editProfile()}}},[n("v-icon",[e._v("mdi-pencil")])],1)],1),n("v-divider"),n("v-list",{attrs:{rounded:""}},[n("v-subheader",[e._v(e._s(e.$t("labels.menu")))]),n("v-list-item-group",{attrs:{color:"primary"}},e._l(e.$t("menu"),(function(t,a){return n("v-list-item",{key:a,on:{click:function(a){return e.changeMenu(t.component_name)}}},[n("v-list-item-icon",[n("v-icon",{domProps:{textContent:e._s(t.icon)}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(t.text)}})],1)],1)})),1)],1)],1)},B=[],M={data:()=>({current_menu:"",user:{}}),created(){const e=localStorage.getItem("tweetr-token");axios.get("/account/profile",{headers:{Authorization:`Bearer ${e}`}}).then(e=>{this.user=e.data.data[0]}).catch(e=>{})},methods:{changeMenu(e){this.$store.commit("setCurrentComponent",e)},editProfile(){this.$store.commit("setCurrentComponent","Profile")}}},j=M,D=a("b0af"),F=a("ce7e"),E=a("8270"),N=a("5d23"),q=a("1baa"),H=a("34c3"),z=a("e0c7"),U=Object(m["a"])(j,L,B,!1,null,null,null),R=U.exports;_()(U,{VBtn:h["a"],VCard:D["a"],VDivider:F["a"],VIcon:g["a"],VList:f["a"],VListItem:v["a"],VListItemAvatar:E["a"],VListItemContent:N["a"],VListItemGroup:q["a"],VListItemIcon:H["a"],VListItemTitle:N["c"],VSubheader:z["a"]});var X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ChangeComponent",{attrs:{componentName:e.getComponentName}})],1)},J=[],K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.componentName==e.item.home_member?a("HomeMember"):e.componentName==e.item.profile?a("Profile"):e.componentName==e.item.personal_fee?a("PersonalFee"):e.componentName==e.item.home_fee?a("HomeFee"):e._e()},Q=[];const Y={home_member:"HomeMember",personal_fee:"PersonalFee",profile:"Profile",home_fee:"HomeFee"},G={userIsNotCreatorCost:401,userNotExistInHome:402,notAdminHome:403,userIsReadyInOtherHome:404,userNotExist:405,cantInsertUserToHome:406,homeNotExist:407,tokenNotExist:408,needConfirmAccount:409};var Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ValidationObserver",{ref:"obs",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.invalid,s=t.validated;return e.isHomeInfoLoaded?n("v-card",{},[n("v-card-title",[e._v(e._s(e.$t("labels.home_info")))]),e.flag.create_home?n("v-card-subtitle",[n("div",{staticClass:"red lighten-1 text-center"},[n("span",{staticClass:"white--text"},[e._v(e._s(e.$t("messages.alert.create_home")))])])]):e._e(),n("v-card-text",[n("validationProvider",{attrs:{name:e.$t("labels.home_name"),rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[n("v-text-field",{attrs:{label:e.$t("labels.home_name"),readonly:!e.flag.edit_home_info&&!e.flag.create_home,"error-messages":a},model:{value:e.home_infos.homeInfo.name,callback:function(t){e.$set(e.home_infos.homeInfo,"name",t)},expression:"home_infos.homeInfo.name"}})]}}],null,!0)}),n("validationProvider",{attrs:{name:e.$t("labels.address"),rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[n("v-text-field",{attrs:{label:e.$t("labels.address"),readonly:!e.flag.edit_home_info&&!e.flag.create_home,"error-messages":a},model:{value:e.home_infos.homeInfo.address,callback:function(t){e.$set(e.home_infos.homeInfo,"address",t)},expression:"home_infos.homeInfo.address"}})]}}],null,!0)}),n("validationProvider",{attrs:{name:e.$t("labels.address"),rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[n("v-select",{attrs:{items:e.listMemberUser,chips:!0,label:e.$t("labels.admin"),"item-text":"name","return-object":"",readonly:!e.flag.edit_home_info&&!e.flag.create_home,"error-messages":a},scopedSlots:e._u([{key:"selection",fn:function(t){var a=t.item;return[n("v-chip",[n("span",[e._v(e._s(a.name))])])]}}],null,!0),model:{value:e.home_infos.admin,callback:function(t){e.$set(e.home_infos,"admin",t)},expression:"home_infos.admin"}})]}}],null,!0)})],1),e.response.response_home_update.status?n("v-alert",{staticClass:"ml-2 mr-2",attrs:{type:e.response.response_home_update.status,border:"left",outlined:"",dense:"",text:""}},[e._v(e._s(e.response.response_home_update.message))]):e._e(),e.isAdmin?n("v-card-actions",[e.flag.edit_home_info||e.flag.create_home?e._e():n("v-btn",{attrs:{color:"warning"},nativeOn:{click:function(t){e.flag.edit_home_info=!0}}},[e._v(" "+e._s(e.$t("buttons.edit"))+" ")]),e.flag.edit_home_info?n("v-btn",{attrs:{color:"primary",disabled:a},nativeOn:{click:function(t){return e.updateHomeInfo(t)}}},[n("v-icon",{attrs:{left:"",dark:""}},[e._v("mdi-check")]),e._v(" "+e._s(e.$t("buttons.save"))+" ")],1):e._e(),e.flag.create_home?n("v-btn",{attrs:{color:"primary",disabled:a||!s},nativeOn:{click:function(t){return e.updateHomeInfo(t)}}},[n("v-icon",{attrs:{left:"",dark:""}},[e._v("mdi-check")]),e._v(" "+e._s(e.$t("buttons.save"))+" ")],1):e._e()],1):e._e()],1):e._e()}}],null,!0)}),e.isHomeInfoLoaded?n("div",[n("v-card",{staticClass:"mx-auto mt-2"},[n("v-list",{attrs:{"two-line":""}},[n("div",{staticClass:"d-flex pr-5"},[n("v-subheader",[e._v(e._s(e.$t("labels.member")))]),e.flag.flag_edit_member?n("v-btn",{staticClass:"ml-auto",attrs:{color:"blue",icon:""},on:{click:function(t){e.flag.dialog_add_member=!0}}},[n("v-icon",[e._v("mdi-account-plus")])],1):e._e()],1),e._l(e.home_infos.members,(function(t){return[n("v-list-item",{key:t.user_id},[n("v-list-item-avatar",[t.avatar?n("v-img",{attrs:{src:t.avatar}}):n("v-img",{attrs:{src:a("96ff")}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{innerHTML:e._s(t.full_name)}}),t.user_id==e.home_infos.admin.id?n("v-list-item-subtitle",[e._v(e._s(e.$t("labels.manager")))]):e._e()],1),t.user_id!==e.home_infos.admin.id&&e.flag.flag_edit_member?n("v-btn",{attrs:{text:"",icon:"",color:"red"},on:{click:function(a){return e.showDialog(t)}}},[n("v-icon",[e._v("mdi-account-remove")])],1):e._e()],1)]}))],2),n("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.flag.dialog,callback:function(t){e.$set(e.flag,"dialog",t)},expression:"flag.dialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline",domProps:{innerHTML:e._s(e.$t("messages.alert.are_you_sure_delete",{name:e.remove_member_detail.full_name}))}}),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.removeMember(0)}}},[e._v(e._s(e.$t("buttons.no")))]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.removeMember(1)}}},[e._v(e._s(e.$t("buttons.yes")))])],1)],1)],1),n("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.flag.dialog_add_member,callback:function(t){e.$set(e.flag,"dialog_add_member",t)},expression:"flag.dialog_add_member"}},[n("v-card",{staticClass:"pa-2"},[n("v-card-title",{staticClass:"headline"},[e._v(e._s(e.$t("labels.add_new_member")))]),n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("validationProvider",{attrs:{name:e.$t("labels.email"),rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.valid,s=t.errors;return[n("v-text-field",{attrs:{label:e.$t("labels.email"),required:"",success:a,"error-messages":s},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})]}}],null,!1,175266321)})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.addMember(!1)}}},[e._v(e._s(e.$t("buttons.cancel")))]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.addMember(!0)}}},[e._v(e._s(e.$t("buttons.add")))])],1)],1)],1)],1),e.isAdmin?n("div",[e.flag.flag_edit_member?e._e():n("v-btn",{staticClass:"mt-3",attrs:{elevation:"3",block:"",color:"#EF5350"},on:{click:function(t){return e.editMember()}}},[e._v(e._s(e.$t("buttons.edit_member")))]),e.flag.flag_edit_member?n("v-btn",{staticClass:"mt-3",attrs:{elevation:"3",block:"",color:"primary"},on:{click:function(t){return e.editMemberDone()}}},[e._v(e._s(e.$t("buttons.done")))]):e._e()],1):e._e()],1):e._e(),n("v-snackbar",{attrs:{color:e.snackbar.color},model:{value:e.snackbar.flag,callback:function(t){e.$set(e.snackbar,"flag",t)},expression:"snackbar.flag"}},[e._v(" "+e._s(e.snackbar.message)+" "),n("v-btn",{attrs:{color:"white",text:""},on:{click:function(t){e.snackbar.flag=!1}}},[e._v(e._s(e.$t("buttons.cancel")))])],1)],1)},W=[],ee=a("7bb1"),te={components:{ValidationObserver:ee["a"],ValidationProvider:ee["b"]},data:()=>({home_infos:{},remove_member_detail:{},email:"",response:{response_home_update:{}},flag:{flag_edit_member:!1,dialog:!1,dialog_add_member:!1,create_home:!1,edit_home_info:!1},valid:!0,snackbar:{flag:!1,message:"",color:"#004D40"}}),created(){const e=localStorage.getItem("tweetr-token");axios.get("/home/home_info",{headers:{Authorization:`Bearer ${e}`}}).then(e=>{this.home_infos=e.data.data}).catch(e=>{this.flag.create_home=!0;let t=this.$store.getters.getCurrentUserInfo;this.home_infos={admin:{},homeInfo:{},members:[{full_name:t.name,user_email:t.email,user_id:t.id,avatar:t.avatar}]}})},computed:{isHomeInfoLoaded(){return Object.keys(this.home_infos).length>0},isFormValid(){return console.log(this.fields),Object.keys(this.fields).every(e=>this.fields[e].valid)},isAdmin(){let e=this.$store.getters.getCurrentUserInfo;return!!("undefined"!==typeof this.home_infos.homeInfo&&e.id==this.home_infos.homeInfo.admin_id||this.flag.create_home)},listMemberUser(){let e=new Array;return this.home_infos.members.map(t=>{e.push({id:t.user_id,name:t.full_name})}),e.filter(Boolean)}},methods:{validate(){this.$refs.form.validate()&&(this.snackbar=!0)},editMember(){this.flag.flag_edit_member=!0},editMemberDone(){this.flag.flag_edit_member=!1},showDialog(e){this.remove_member_detail=e,this.flag.dialog=!0},removeMember(e){if(1==e){const e=localStorage.getItem("tweetr-token");axios.put("/home/remove_member",{remove_user_id:this.remove_member_detail.user_id},{headers:{Authorization:`Bearer ${e}`}}).then(e=>{200==e.status&&this.home_infos.splice(this.home_infos.indexOf(this.remove_member_detail),1)})}this.flag.dialog=!1},addMember(e){const t=this.$t.bind(this);if(""!=this.email&&e){const e=localStorage.getItem("tweetr-token");axios.post("/home/add_member",{email:this.email},{headers:{Authorization:`Bearer ${e}`}}).then(e=>{e.status;const a={address:this.home_infos.address,admin_id:this.home_infos.admin_id,full_name:e.data.data.name,home_name:this.home_infos.home_name,user_email:e.data.data.email,user_id:e.data.data.id};this.home_infos.push(a),this.snackbar.message=t("messages.success.add_done"),this.snackbar.color="green",this.snackbar.flag=!0,this.flag.dialog_add_member=!1}).catch(e=>{405==e.response.data.message?this.snackbar.message=t("messages.error.not_exist_user"):404==e.response.data.message?this.snackbar.message=t("messages.error.user_is_ready_in_other_home"):(e.response.data.message=407)&&(this.snackbar.message=t("messages.error.need_create_home")),this.flag.dialog_add_member=!1,this.snackbar.flag=!0})}else this.flag.dialog_add_member=!1;this.email=""},updateHomeInfo(){const e=localStorage.getItem("tweetr-token");axios.put("/home/update_home",{name:this.home_infos.homeInfo.name,address:this.home_infos.homeInfo.address,admin_id:this.home_infos.admin.id},{headers:{Authorization:`Bearer ${e}`}}).then(e=>{200==e.status&&(this.response.response_home_update=e.data,this.flag.edit_home_info=!1)}).catch(e=>{console.log(e.response)})}}},ae=te,ne=a("0798"),se=a("99d9"),re=a("cc20"),ie=a("169a"),oe=a("4bd4"),le=a("b974"),ce=a("2db4"),de=a("8654"),me=Object(m["a"])(ae,Z,W,!1,null,null,null),ue=me.exports;_()(me,{VAlert:ne["a"],VBtn:h["a"],VCard:D["a"],VCardActions:se["a"],VCardSubtitle:se["b"],VCardText:se["c"],VCardTitle:se["d"],VChip:re["a"],VDialog:ie["a"],VForm:oe["a"],VIcon:g["a"],VImg:w["a"],VList:f["a"],VListItem:v["a"],VListItemAvatar:E["a"],VListItemContent:N["a"],VListItemSubtitle:N["b"],VListItemTitle:N["c"],VSelect:le["a"],VSnackbar:ce["a"],VSpacer:S["a"],VSubheader:z["a"],VTextField:de["a"]});var _e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("v-layout",{attrs:{column:""}},[n("ValidationObserver",{ref:"obs",scopedSlots:e._u([{key:"default",fn:function(t){var s=t.invalid;return n("v-card",{},[n("v-card-text",[n("v-flex",{staticClass:"mb-4"},[n("v-avatar",{staticClass:"mr-4",attrs:{size:"96"}},[e.user.avatar?n("img",{attrs:{id:"img",src:e.user.avatar,alt:"Avatar"}}):n("img",{attrs:{id:"img",src:a("96ff"),alt:"avatar"}})]),n("v-btn",{on:{click:e.openAvatarPicker}},[e._v(e._s(e.$t("buttons.change_avatar")))]),n("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file-upload"},on:{change:e.onFileChange}})],1),n("ValidationProvider",{attrs:{name:e.$t("labels.full_name"),rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.validated,s=t.errors;return[n("v-text-field",{attrs:{label:e.$t("labels.full_name"),readonly:!e.flag.editProfile,success:a,"error-messages":s},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})]}}],null,!0)}),e.user.home?n("v-text-field",{attrs:{label:e.$t("labels.home_name"),disabled:""},model:{value:e.user.home.name,callback:function(t){e.$set(e.user.home,"name",t)},expression:"user.home.name"}}):e._e(),n("ValidationProvider",{attrs:{name:e.$t("labels.email"),rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.validated,s=t.errors;return[n("v-text-field",{attrs:{label:e.$t("labels.email"),readonly:!e.flag.editProfile,success:a,"error-messages":s},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})]}}],null,!0)})],1),e.response.status?n("v-alert",{staticClass:"ml-2 mr-2",attrs:{type:e.response.status,border:"left",outlined:"",dense:"",text:""}},[e._v(e._s(e.response.message))]):e._e(),n("v-card-actions",[e.flag.editProfile?n("v-btn",{attrs:{color:"primary",loading:e.loading,disabled:s},nativeOn:{click:function(t){return e.updateProfile(t)}}},[n("v-icon",{attrs:{left:"",dark:""}},[e._v("mdi-check")]),e._v(" "+e._s(e.$t("buttons.save"))+" ")],1):e._e(),e.flag.editProfile?e._e():n("v-btn",{attrs:{color:"warning"},nativeOn:{click:function(t){e.flag.editProfile=!0}}},[n("v-icon",{attrs:{left:"",dark:""}},[e._v("mdi-check")]),e._v(" "+e._s(e.$t("buttons.edit"))+" ")],1)],1)],1)}}])})],1)],1)},he=[],ge={pageTitle:"My Profile",components:{ValidationObserver:ee["a"],ValidationProvider:ee["b"]},data(){return{loading:!1,user:{},showAvatarPicker:!1,response:{},flag:{editProfile:!1}}},created(){const e=localStorage.getItem("tweetr-token");axios.get("/account/profile",{headers:{Authorization:`Bearer ${e}`}}).then(e=>{this.user=e.data.data[0]}).catch(e=>{})},methods:{openAvatarPicker(){document.getElementById("file-upload").click()},onFileChange(e){var t=this,a=e.target.files||e.dataTransfer.files;if(a.length>0){const s=localStorage.getItem("tweetr-token");let r=new FormData;r.append("file",a[0]),axios.put("account/change_ava",r,{headers:{Authorization:`Bearer ${s}`,"content-type":"multipart/form-data"}}).then(e=>{e.data.data&&(t.user.avatar=e.data.data)});var n=new FileReader;n.onload=function(e){document.getElementById("img").setAttribute("src",e.target.result)},n.readAsDataURL(e.target.files[0])}},updateProfile(){const e=localStorage.getItem("tweetr-token");axios.put("/account/update_profile",{name:this.user.name,email:this.user.email},{headers:{Authorization:`Bearer ${e}`}}).then(e=>{this.response=e.data,this.flag.editProfile=!1})}}},fe=ge,ve=a("8212"),pe=a("a523"),be=a("0e8f"),ke=a("a722"),ye=Object(m["a"])(fe,_e,he,!1,null,null,null),xe=ye.exports;_()(ye,{VAlert:ne["a"],VAvatar:ve["a"],VBtn:h["a"],VCard:D["a"],VCardActions:se["a"],VCardText:se["c"],VContainer:pe["a"],VFlex:be["a"],VIcon:g["a"],VLayout:ke["a"],VTextField:de["a"]});var $e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ListCost",{attrs:{headers:e.headers,living_cost_data:e.living_cost_data}}),a("v-snackbar",{attrs:{color:e.flag.snackbar.color},model:{value:e.flag.snackbar.flag,callback:function(t){e.$set(e.flag.snackbar,"flag",t)},expression:"flag.snackbar.flag"}},[e._v(" "+e._s(e.flag.snackbar.message)+" "),a("v-btn",{attrs:{color:"white",text:""},on:{click:function(t){e.flag.snackbar.flag=!1}}},[e._v(e._s(e.$t("buttons.cancel")))])],1)],1)},Ve=[],Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[e._v(" "+e._s(e.$t("labels.sum_money"))+": "),n("strong",[e._v(e._s(e.sumMoney))]),n("v-spacer"),n("CostPopup",{attrs:{living_cost:e.living_cost,dialog:e.flag.dialog,edit:e.flag.edit}})],1),n("v-card-title",[n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:e.$t("labels.search"),"single-line":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),n("v-spacer"),n("v-menu",{ref:"date_select",attrs:{"close-on-content-click":!1,"return-value":e.dates,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.dates=t},"update:return-value":function(t){e.dates=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-text-field",e._g({attrs:{label:e.$t("labels.date_pay_range"),readonly:""},model:{value:e.dateRangeText,callback:function(t){e.dateRangeText=t},expression:"dateRangeText"}},a))]}}]),model:{value:e.date_select,callback:function(t){e.date_select=t},expression:"date_select"}},[n("v-date-picker",{attrs:{type:"month","no-title":"",scrollable:"",range:""},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.date_select=!1}}},[e._v(e._s(e.$t("buttons.cancel")))]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.searchByDate()}}},[e._v(e._s(e.$t("buttons.done")))])],1)],1)],1),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,"sort-by":["date_pay"],"sort-desc":[!0],"show-expand":"",items:e.living_cost_data,search:e.search},scopedSlots:e._u([{key:"item.payer.name",fn:function(t){var s=t.item;return[n("v-chip",[n("v-avatar",{attrs:{left:""}},[s.payer.avatar?n("v-img",{attrs:{src:s.payer.avatar}}):n("v-img",{attrs:{src:a("96ff")}})],1),e._v(" "+e._s(s.payer.name)+" ")],1)]}},{key:"item.edit",fn:function(t){var a=t.item;return[e.currentUser.id==a.payer.id?n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v("mdi-pencil")]):e._e(),e.currentUser.id==a.payer.id?n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v("mdi-delete")]):e._e()]}},{key:"no-data",fn:function(){return[e._v(e._s(e.$t("messages.alert.no_data")))]},proxy:!0},{key:"expanded-item",fn:function(e){var t=e.item;return[n("DetailCost",{attrs:{item:t}})]}}])})],1)},we=[],Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ValidationObserver",{ref:"obs",attrs:{tag:"form",slim:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.invalid;return[a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},n),[e._v(e._s(e.$t("labels.add_new")))])]}}],null,!0),model:{value:e.dialogFlag,callback:function(t){e.dialogFlag=t},expression:"dialogFlag"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",[a("ValidationProvider",{attrs:{name:e.$t("labels.name_product"),rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.validated,s=t.errors;return[a("v-text-field",{attrs:{dense:"",clearable:"",label:e.$t("labels.name_product"),"error-messages":s,success:n},model:{value:e.living_cost.name,callback:function(t){e.$set(e.living_cost,"name",t)},expression:"living_cost.name"}})]}}],null,!0)}),a("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("ValidationProvider",{attrs:{name:e.$t("labels.date_pay"),rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.validated,r=t.errors;return[a("v-text-field",e._g({attrs:{label:e.$t("labels.date_pay"),"prepend-inner-icon":"mdi-calendar","persistent-hint":"",readonly:"",success:s,"error-messages":r},model:{value:e.living_cost.date_pay,callback:function(t){e.$set(e.living_cost,"date_pay",t)},expression:"living_cost.date_pay"}},n))]}}],null,!0)})]}}],null,!0),model:{value:e.date_select,callback:function(t){e.date_select=t},expression:"date_select"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(t){e.date_select=!1}},model:{value:e.living_cost.date_pay,callback:function(t){e.$set(e.living_cost,"date_pay",t)},expression:"living_cost.date_pay"}})],1),a("ValidationProvider",{attrs:{name:e.$t("labels.price"),rules:"required|min_value:1|max_value:99999999"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.validated,s=t.errors;return[a("v-text-field",{attrs:{type:"number",prefix:"$",dense:"",clearable:"",label:e.$t("labels.price"),success:n,"error-messages":s},model:{value:e.living_cost.price,callback:function(t){e.$set(e.living_cost,"price",t)},expression:"living_cost.price"}})]}}],null,!0)}),a("ValidationProvider",{attrs:{name:e.$t("labels.payer"),rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.validated,s=t.errors;return[a("v-autocomplete",{attrs:{items:e.home_member,chips:"",label:e.$t("labels.payer"),"item-text":"name","return-object":"","hide-details":"","hide-no-data":"","hide-selected":"",success:n,"error-messages":s},model:{value:e.living_cost.payer,callback:function(t){e.$set(e.living_cost,"payer",t)},expression:"living_cost.payer"}})]}}],null,!0)}),a("ValidationProvider",{attrs:{name:e.$t("labels.beneficiary"),rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.validated,s=t.errors;return[a("v-select",{attrs:{items:e.listMemberUser,chips:!0,multiple:!0,label:e.$t("labels.beneficiary"),"item-text":"name","return-object":"",success:n,"error-messages":s},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.item;return[a("v-chip",[a("span",[e._v(e._s(n.name))])])]}}],null,!0),model:{value:e.living_cost.receiver,callback:function(t){e.$set(e.living_cost,"receiver",t)},expression:"living_cost.receiver"}})]}}],null,!0)}),a("ValidationProvider",{attrs:{name:e.$t("labels.bill"),rules:"image"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.validated,s=t.errors;return[a("v-file-input",{attrs:{multiple:"","prepend-icon":"mdi-camera",label:e.$t("labels.bill"),accept:"image/png, image/jpeg, image/bmp",placeholder:e.$t("labels.select_image"),chips:"","error-messages":s,success:n},on:{change:e.onFileChange,"click:clear":e.removeImage},model:{value:e.files,callback:function(t){e.files=t},expression:"files"}})]}}],null,!0)}),e.living_cost.image?a("v-img",{attrs:{src:e.living_cost.image,"aspect-ratio":"2"}},[a("v-row",{staticClass:"fill-height"},[a("v-btn",{attrs:{dark:"",icon:"",absolute:"",right:"",top:"",ripple:""},on:{click:function(t){return e.removeImage()}}},[a("v-icon",[e._v("mdi-close")])],1)],1)],1):e._e(),a("v-textarea",{attrs:{clearable:"","auto-grow":"",label:e.$t("labels.detail")},model:{value:e.living_cost.detail,callback:function(t){e.$set(e.living_cost,"detail",t)},expression:"living_cost.detail"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(e._s(e.$t("buttons.cancel")))]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:n},on:{click:function(t){return e.saveLivingCost(e.edit)}}},[e._v(e._s(e.$t("buttons.save")))])],1)],1)],1)]}}])})},Ie=[],Pe={props:{living_cost:{type:Object,required:!0},dialog:{type:Boolean,required:!0},edit:{type:Boolean,required:!0}},components:{ValidationObserver:ee["a"],ValidationProvider:ee["b"]},data(){return{home_member:[],date_select:!1,flag:{snackbar:{flag:!1,message:"",color:"#004D40"}},files:null}},computed:{formTitle(){return!1===this.edit?this.$t("labels.add_new"):this.$t("labels.edit")},listMemberUser(){let e=new Array;return this.home_member.map(t=>{e.push(t)}),e},computedDateFormatted(){return this.living_cost.date_pay=this.formatDate(this.date_select.date),this.formatDate(this.date_select.date)},dialogFlag:{get(){return this.dialog},async set(e){await this.$bus.emit("closeDialog",e),this.$refs.obs.reset()}}},mounted(){const e=localStorage.getItem("tweetr-token");axios.get("/home/home_member",{headers:{Authorization:`Bearer ${e}`}}).then(e=>{this.home_member=e.data.data})},methods:{async close(){this.files=null,this.$bus.emit("closeDialog",!1),this.$refs.obs.errors={}},saveLivingCost(e){const t=localStorage.getItem("tweetr-token");if(""!==this.living_cost.name&&this.living_cost.price>0&&""!=this.living_cost.payer_name){let a=new FormData;this.files?a.append("file",this.files[0]):a.append("file",this.files),a.append("living_cost",JSON.stringify(this.living_cost)),e?axios.put("cost/update_cost",a,{headers:{Authorization:`Bearer ${t}`,"content-type":"multipart/form-data"}}).then(e=>{this.$bus.emit("saveLivingCost",this.living_cost),this.close(),this.flag.snackbar={flag:!0,message:this.$t("messages.success.edit_done"),color:"success"}}).catch(e=>{this.flag.snackbar={flag:!0,message:this.$t("messages.success.edit_fail"),color:"error"}}).then(()=>{this.$refs.obs.reset(),this.$bus.emit("setSnackbar",this.flag)}):axios.post("cost/create_cost",a,{headers:{Authorization:`Bearer ${t}`,"content-type":"multipart/form-data"}}).then(e=>{this.living_cost.id=e.data.data.living_cost_id,this.$bus.emit("saveLivingCost",this.living_cost),this.close(),this.flag.snackbar={flag:!0,message:this.$t("messages.success.add_done"),color:"success"}}).catch(e=>{this.flag.snackbar={flag:!0,message:this.$t("messages.success.add_fail"),color:"error"},this.$bus.emit("setSnackbar",this.flag)}).then(()=>{this.$refs.obs.reset(),this.$bus.emit("setSnackbar",this.flag)})}else this.flag.snackbar={flag:!0,message:this.$t("messages.error.required"),color:"error"}},selectPayer(e){this.living_cost.payer_name=e.name,this.living_cost.payer_id=e.id},formatDate(e){if(!e)return null;const[t,a,n]=e.split("-");return`${a}/${n}/${t}`},onFileChange(e){if(e&&e.length>0){const t=e[0].type,a="image/png, image/jpeg, image/bmp";a.search(t)>-1&&(this.files=e,this.createImage(e[0]))}else this.removeImage()},createImage(e){new Image;var t=new FileReader,a=this;t.onload=e=>{a.living_cost.image=e.target.result},t.readAsDataURL(e)},removeImage(){this.files=null,this.living_cost.image=""}}},Te=Pe,Oe=a("c6a6"),Ae=a("2e4b"),Le=a("23a7"),Be=a("0fd9"),Me=a("a844"),je=Object(m["a"])(Te,Se,Ie,!1,null,null,null),De=je.exports;_()(je,{VAutocomplete:Oe["a"],VBtn:h["a"],VCard:D["a"],VCardActions:se["a"],VCardText:se["c"],VCardTitle:se["d"],VChip:re["a"],VContainer:pe["a"],VDatePicker:Ae["a"],VDialog:ie["a"],VFileInput:Le["a"],VForm:oe["a"],VIcon:g["a"],VImg:w["a"],VMenu:p["a"],VRow:Be["a"],VSelect:le["a"],VSpacer:S["a"],VTextField:de["a"],VTextarea:Me["a"]});var Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",{attrs:{colspan:10}},[n("v-container",[n("h4",[e._v(e._s(e.$t("labels.cost_detail")))]),n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"4"}},[n("v-subheader",[e._v(e._s(e.$t("labels.beneficiary")))])],1),n("v-col",{attrs:{cols:"8"}},[n("v-card-text",e._l(e.item.receiver,(function(t){return n("v-chip",{key:t.id,attrs:{"ma-1":""}},[n("v-avatar",{attrs:{left:""}},[t.avatar?n("v-img",{attrs:{src:t.avatar}}):n("v-img",{attrs:{src:a("96ff")}})],1),e._v(" "+e._s(t.name)+" ")],1)})),1)],1),n("v-col",{attrs:{cols:"4"}},[n("v-subheader",[e._v(e._s(e.$t("labels.detail")))])],1),n("v-col",{attrs:{cols:"8"}},[n("v-textarea",{attrs:{value:e.item.detail,readonly:"",solo:""}})],1),e.item.image?n("v-col",{attrs:{cols:"4"}},[n("v-subheader",[e._v(e._s(e.$t("labels.bill")))])],1):e._e(),e.item.image?n("v-col",{attrs:{cols:"8"}},[n("v-img",{attrs:{src:e.item.image,"aspect-ratio":"2"}})],1):e._e(),n("v-col",{attrs:{cols:"4"}},[n("v-subheader",[e._v(e._s(e.$t("labels.created")))])],1),n("v-col",{attrs:{cols:"8"}},[n("v-text-field",{attrs:{value:e.item.created_at,readonly:""}})],1),n("v-col",{attrs:{cols:"4"}},[n("v-subheader",[e._v(e._s(e.$t("labels.updated")))])],1),n("v-col",{attrs:{cols:"8"}},[n("v-text-field",{attrs:{value:e.item.updated_at,readonly:""}})],1)],1)],1)],1)},Ee=[],Ne={props:{item:{type:Object,required:!0}},data(){return{}}},qe=Ne,He=a("62ad"),ze=Object(m["a"])(qe,Fe,Ee,!1,null,null,null),Ue=ze.exports;_()(ze,{VAvatar:ve["a"],VCardText:se["c"],VChip:re["a"],VCol:He["a"],VContainer:pe["a"],VImg:w["a"],VRow:Be["a"],VSubheader:z["a"],VTextField:de["a"],VTextarea:Me["a"]});var Re={props:{headers:{type:Array,required:!0},living_cost_data:{type:Array,required:!0}},components:{CostPopup:De,DetailCost:Ue},data(){const e=this.$t.bind(this);return{living_cost:{name:"",payer:{},price:"",image:"",date_pay:(new Date).toISOString().substr(0,10),detail:"",receiver:[]},search:"",date_select:!1,dates:[(new Date).toISOString().substr(0,7)],messages:e("messages"),flag:{dialog:!1,snackbar:{flag:!1,message:"",color:"success"},edit:!1},sort_by:"date_pay"}},computed:{currentUser(){return this.$store.getters.getCurrentUserInfo},sumMoney(){let e=0;return this.living_cost_data.map(t=>{e+=t.price}),e},dateRangeText(){return this.dates.sort(),this.dates.join(" ~ ")}},watch:{dialog(e){e||this.close()}},created(){this.$bus.on("saveLivingCost",e=>{this.$bus.emit("searchByDate",this.dates),this.setDefaultLivingCost(),this.flag.snackbar={flag:!0,message:this.messages.success.add_done,color:"success"}}),this.$bus.on("closeDialog",e=>{this.flag.dialog=e,this.setDefaultLivingCost()})},methods:{searchByDate(){this.$refs.date_select.save(this.dates),this.$bus.emit("searchByDate",this.dates)},editItem(e){this.living_cost=Object.assign({},e),this.flag.dialog=!0,this.flag.edit=!0},deleteItem(e){const t=localStorage.getItem("tweetr-token"),a=this.living_cost_data.indexOf(e);confirm(this.$t("messages.alert.are_you_sure_delete_confirm",{name:e.name}))&&(axios.delete("/cost/remove_cost/"+e.id,{headers:{Authorization:`Bearer ${t}`}}).then(e=>{e.data.data?this.flag.snackbar={flag:!0,message:this.messages.success.remove_done,color:"success"}:this.flag.snackbar={flag:!0,message:this.messages.success.remove_fail,color:"error"}}),this.living_cost_data.splice(a,1))},setDefaultLivingCost(){this.living_cost={name:"",payer:{},price:"",image:"",date_pay:(new Date).toISOString().substr(0,10),detail:"",receiver:[]}}}},Xe=Re,Je=a("8fea"),Ke=Object(m["a"])(Xe,Ce,we,!1,null,null,null),Qe=Ke.exports;_()(Ke,{VAvatar:ve["a"],VBtn:h["a"],VCard:D["a"],VCardTitle:se["d"],VChip:re["a"],VDataTable:Je["a"],VDatePicker:Ae["a"],VIcon:g["a"],VImg:w["a"],VMenu:p["a"],VSpacer:S["a"],VTextField:de["a"]});var Ye={created(){this.initialize(),this.$bus.on("setSnackbar",e=>{this.flag=e}),this.$bus.on("searchByDate",e=>{this.searchByDate(e)})},methods:{initialize(){const e=localStorage.getItem("tweetr-token");axios.get(this.uri,{headers:{Authorization:`Bearer ${e}`}}).then(e=>{this.living_cost_data=e.data.data}).catch(e=>{console.log(e.response)})},searchByDate(e){let t=e[0],a=e[0];"undefined"!=typeof e[1]&&(a=e[1]);const n=localStorage.getItem("tweetr-token");axios.get(this.uri,{headers:{Authorization:`Bearer ${n}`},params:{date_pay_start:t,date_pay_end:a}}).then(e=>{this.living_cost_data=e.data.data}).catch(e=>{console.log(e.response)})}}},Ge={components:{ListCost:Qe},mixins:[Ye],data(){const e=this.$t.bind(this);return{headers:[{text:e("labels.name_product"),align:"left",sortable:!1,value:"name"},{text:e("labels.date_pay"),value:"date_pay"},{text:e("labels.payer"),value:"payer.name"},{text:e("labels.price"),value:"price"},{text:e("labels.edit"),value:"edit",sortable:!1}],living_cost_data:[],flag:{snackbar:{flag:!1,message:"",color:"#004D40"}},uri:"/cost/get_user_cost"}}},Ze=Ge,We=Object(m["a"])(Ze,$e,Ve,!1,null,null,null),et=We.exports;_()(We,{VBtn:h["a"],VSnackbar:ce["a"]});var tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ListCost",{attrs:{headers:e.headers,living_cost_data:e.living_cost_data}}),a("v-snackbar",{attrs:{color:e.flag.snackbar.color},model:{value:e.flag.snackbar.flag,callback:function(t){e.$set(e.flag.snackbar,"flag",t)},expression:"flag.snackbar.flag"}},[e._v(" "+e._s(e.flag.snackbar.message)+" "),a("v-btn",{attrs:{color:"white",text:""},on:{click:function(t){e.flag.snackbar.flag=!1}}},[e._v(e._s(e.$t("buttons.cancel")))])],1)],1)},at=[],nt={mixins:[Ye],data(){const e=this.$t.bind(this);return{headers:[{text:e("labels.name_product"),align:"left",sortable:!1,value:"name"},{text:e("labels.date_pay"),value:"date_pay"},{text:e("labels.payer"),value:"payer.name"},{text:e("labels.price"),value:"price"},{text:e("labels.edit"),value:"edit",sortable:!1}],living_cost_data:[],flag:{snackbar:{flag:!1,message:"",color:"#004D40"}},uri:"/cost/get_home_cost"}},components:{ListCost:Qe}},st=nt,rt=Object(m["a"])(st,tt,at,!1,null,null,null),it=rt.exports;_()(rt,{VBtn:h["a"],VSnackbar:ce["a"]});var ot={props:{componentName:{type:String,required:!0}},data(){return{item:{}}},components:{HomeMember:ue,Profile:xe,PersonalFee:et,HomeFee:it},created(){this.item=Y}},lt=ot,ct=Object(m["a"])(lt,K,Q,!1,null,null,null),dt=ct.exports,mt={components:{ChangeComponent:dt},computed:{getComponentName(){return this.$store.getters.currentComponent}}},ut=mt,_t=Object(m["a"])(ut,X,J,!1,null,null,null),ht=_t.exports,gt={name:"home",components:{MainMenu:R,Content:ht},beforeRouteEnter(e,t,a){const n=localStorage.getItem("tweetr-token");n?a():a("/login")},created(){const e=localStorage.getItem("tweetr-token");axios.get("/account/profile",{headers:{Authorization:`Bearer ${e}`}}).then(e=>{this.$store.commit("setCurrentUserInfo",e.data.data[0])})}},ft=gt,vt=Object(m["a"])(ft,O,A,!1,null,null,null),pt=vt.exports;_()(vt,{VCol:He["a"],VContainer:pe["a"],VRow:Be["a"]});var bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"inspire"}},[a("v-content",[a("ValidationObserver",{ref:"obs",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.invalid,s=t.validated;return[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Sign up")])],1),a("v-card-text",[a("v-form",{attrs:{id:"signup"},on:{submit:function(t){return t.preventDefault(),e.signup()}}},[a("ValidationProvider",{attrs:{name:e.$t("labels.full_name"),rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.valid,s=t.errors;return[a("v-text-field",{attrs:{label:e.$t("labels.full_name"),name:e.$t("labels.full_name"),"prepend-inner-icon":"mdi-account-card-details",type:"text",success:n,"error-messages":s},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})]}}],null,!0)}),a("ValidationProvider",{attrs:{name:e.$t("labels.email"),rules:"required|email|notExistEmail"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.valid,s=t.errors;return[a("v-text-field",{attrs:{label:e.$t("labels.email"),name:e.$t("labels.email"),"prepend-inner-icon":"mdi-email",type:"text",success:n,"error-messages":s},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})]}}],null,!0)}),a("ValidationProvider",{attrs:{name:e.$t("labels.password"),rules:"required|min:6"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.valid,s=t.errors;return[a("v-text-field",{attrs:{id:"password",label:e.$t("labels.password"),name:e.$t("labels.password"),"prepend-inner-icon":"mdi-lock",type:"password",success:n,"error-messages":s},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})]}}],null,!0)})],1)],1),e.notification.message?a("Notification",{attrs:{message:e.notification.message,type:e.notification.type}}):e._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{type:"submit",form:"signup",color:"primary",disabled:n||!s}},[e._v(e._s(e.$t("buttons.sign_up")))])],1)],1)],1)],1)],1)]}}])})],1)],1)},kt=[],yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-alert",{attrs:{type:e.type}},[e._v(e._s(e.message)+" ")])],1)},xt=[],$t={name:"Notification",props:{message:{type:String,required:!0},type:{type:String,required:!0}}},Vt=$t,Ct=Object(m["a"])(Vt,yt,xt,!1,null,null,null),wt=Ct.exports;_()(Ct,{VAlert:ne["a"]}),Object(ee["c"])("notExistEmail",e=>axios.get("/check_exist_email",{params:{email:e}}).then(e=>!e.data.data));var St={name:"SignUpForm",components:{Notification:wt,ValidationObserver:ee["a"],ValidationProvider:ee["b"]},props:{source:String},data(){return{name:"",email:"",password:"",notification:{message:"",type:""},color:"red"}},beforeRouteEnter(e,t,a){const n=localStorage.getItem("tweetr-token");return n?a("/"):a()},methods:{submit(){this.$v.$touch()},signup(){axios.post("/signup",{name:this.name,email:this.email,password:this.password}).then(e=>{this.$router.push({path:"/sign_up_done"})}).catch(e=>{this.notification=Object.assign({},this.notification,{message:e.response.data.message,type:e.response.data.type})})}}},It=St,Pt=a("71d9"),Tt=a("2a7f"),Ot=Object(m["a"])(It,bt,kt,!1,null,null,null),At=Ot.exports;_()(Ot,{VApp:$["a"],VBtn:h["a"],VCard:D["a"],VCardActions:se["a"],VCardText:se["c"],VCol:He["a"],VContainer:pe["a"],VContent:C["a"],VForm:oe["a"],VRow:Be["a"],VSpacer:S["a"],VTextField:de["a"],VToolbar:Pt["a"],VToolbarTitle:Tt["a"]});var Lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"inspire"}},[a("v-content",[a("ValidationObserver",{ref:"obs",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.invalid,s=t.validated;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v(e._s(e.$t("labels.login_form")))]),a("v-spacer")],1),a("v-card-text",[a("v-form",{attrs:{id:"login"},on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[a("ValidationProvider",{attrs:{name:"email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors,s=t.valid;return a("v-text-field",{attrs:{label:e.$t("labels.email"),name:"Email","prepend-inner-icon":"mdi-account","error-messages":n,type:"text",success:s,required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})}}],null,!0)}),a("ValidationProvider",{attrs:{name:"password",rules:"required|min:6"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors,s=t.valid;return a("v-text-field",{attrs:{id:"password",label:e.$t("labels.password"),name:"Password","error-messages":n,"prepend-inner-icon":"mdi-lock",type:"password",success:s},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})}}],null,!0)})],1)],1),a("v-spacer"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{type:"submit",form:"login",color:"primary",disabled:n||!s}},[e._v(e._s(e.$t("buttons.login")))])],1)],1)],1)],1)],1)}}])}),a("v-dialog",{attrs:{"max-width":"400"},model:{value:e.dialog_flag,callback:function(t){e.dialog_flag=t},expression:"dialog_flag"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v(e._s(e.$t("messages.titles.confirm_account")))]),a("v-card-text",[e._v(e._s(e.$t("messages.alert.account_not_confirm")))])],1)],1),a("v-snackbar",{attrs:{color:e.flag.snackbar.color},model:{value:e.flag.snackbar.flag,callback:function(t){e.$set(e.flag.snackbar,"flag",t)},expression:"flag.snackbar.flag"}},[e._v(" "+e._s(e.flag.snackbar.message)+" "),a("v-btn",{attrs:{color:"white",text:""},on:{click:function(t){e.flag.snackbar.flag=!1}}},[e._v(e._s(e.$t("buttons.cancel")))])],1)],1)],1)},Bt=[],Mt={name:"LogInForm",components:{ValidationProvider:ee["b"],ValidationObserver:ee["a"]},data(){return{email:"",password:"",dialog_flag:!1,flag:{snackbar:{flag:!1,message:"",color:"red lighten-1"}}}},beforeRouteEnter(e,t,a){const n=localStorage.getItem("tweetr-token");return n?a("/"):a()},computed:{isFormValid(){return Object.keys(this.fields).every(e=>this.fields[e].valid)}},methods:{login(){axios.post("/login",{email:this.email,password:this.password}).then(e=>{localStorage.setItem("tweetr-token",e.data.data.token),this.$router.push("/")}).catch(e=>{e.response.data.status==G.needConfirmAccount?this.dialog_flag=!0:(this.email=this.password="",this.flag.snackbar.flag=!0,this.flag.snackbar.message=this.$t("messages.error.user_info_error"))})},getLanguage(){const e=localStorage.getItem("tweetr-token");axios.get("/account/get_language",{headers:{Authorization:`Bearer ${e}`}}).then(e=>{e.data.data?this.$cookie.set("language",e.data.data):this.$cookie.set("language","us")})}}},jt=Mt,Dt=Object(m["a"])(jt,Lt,Bt,!1,null,null,null),Ft=Dt.exports;_()(Dt,{VApp:$["a"],VBtn:h["a"],VCard:D["a"],VCardActions:se["a"],VCardText:se["c"],VCardTitle:se["d"],VCol:He["a"],VContainer:pe["a"],VContent:C["a"],VDialog:ie["a"],VForm:oe["a"],VRow:Be["a"],VSnackbar:ce["a"],VSpacer:S["a"],VTextField:de["a"],VToolbar:Pt["a"],VToolbarTitle:Tt["a"]});var Et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"mx-auto ma-2",attrs:{color:e.color,dark:"","max-width":"800"}},[a("v-card-text",{staticClass:"headline font-weight-bold"},[e._v(e._s(e.$t("messages.titles.confirm_account")))]),a("v-card-actions",[a("v-list-item",{staticClass:"grow"},[a("v-list-item-content",[e.confirm_status&&e.$route.params.token?a("v-list-item-title",[e._v(e._s(e.$t("messages.success.confirm_account_done")))]):!e.confirm_status&&e.$route.params.token?a("v-list-item-title",[e._v(e._s(e.$t("messages.error.confirm_account_fail")))]):a("v-list-item-title",[e._v(e._s(e.$t("messages.success.signup_done")))])],1)],1)],1)],1)},Nt=[],qt={data(){return{confirm_status:!1,color:"#26c6da"}},created(){const e=this.$route.params.token,t=this.$route.params.email;e&&t?axios.put("/confirm_account",{token:e,email:t}).then(e=>{200==e.data.status?this.confirm_status=!0:this.color="red"}):this.confirm_status=!0}},Ht=qt,zt=Object(m["a"])(Ht,Et,Nt,!1,null,null,null),Ut=zt.exports;_()(zt,{VCard:D["a"],VCardActions:se["a"],VCardText:se["c"],VListItem:v["a"],VListItemContent:N["a"],VListItemTitle:N["c"]}),n["a"].use(T["a"]);const Rt=[{path:"/",name:"home",component:pt},{path:"/signup",name:"signup",component:At},{path:"/login",name:"login",component:Ft},{path:"/confirm_account/:token/:email",name:"confirm_account",component:Ut},{path:"/sign_up_done",name:"sign_up_done",component:Ut}],Xt=new T["a"]({mode:"history",routes:Rt});var Jt=Xt,Kt=a("2f62");n["a"].use(Kt["a"]);var Qt=new Kt["a"].Store({state:{current_component:"HomeMember",user_infos:{},languages:"vn"},getters:{currentComponent:e=>e.current_component,getCurrentUserInfo:e=>e.user_infos,getCurrentLanguages:e=>e.languages},actions:{},mutations:{setCurrentComponent(e,t){n["a"].set(e,"current_component",t)},setCurrentUserInfo(e,t){n["a"].set(e,"user_infos",t)},setLanguage(e,t){n["a"].set(e,"languages",t)}},modules:{}}),Yt=a("f309");n["a"].use(Yt["a"]);var Gt=new Yt["a"]({}),Zt=a("4c93"),Wt=a("bc3a"),ea=a.n(Wt),ta=a("11a2"),aa=a("a925"),na=a("d55e"),sa=a("1ec1"),ra=a("2851");n["a"].use(aa["a"]);var ia=new aa["a"]({locale:"vn",fallbackLocale:"vn",messages:{vn:sa,us:na,jp:ra}}),oa=a("00e7"),la=a.n(oa);class ca{constructor(){this.bus=new n["a"]}on(e,t){this.bus.$on(e,t)}once(e,t){this.bus.$once(e,t)}off(e,t){this.bus.$off(e,t)}emit(e,...t){this.bus.$emit(e,...t)}}var da={install(e){const t=new ca;e.prototype.$bus=t}};n["a"].use(da),n["a"].use(la.a),Object.keys(Zt).forEach(e=>{Object(ee["c"])(e,Zt[e])}),window.axios=ea.a,ea.a.defaults.baseURL="https://seikahi-api.herokuapp.com/",Object(ee["d"])("vi",ta),new n["a"]({i18n:ia,router:Jt,store:Qt,vuetify:Gt,render:e=>e(P)}).$mount("#app")},"96ff":function(e,t,a){e.exports=a.p+"img/default_avatar.e274a23e.png"},d55e:function(e){e.exports=JSON.parse('{"menu":[{"text":"Profile","icon":"mdi-account","component_name":"Profile"},{"text":"Home control","icon":"mdi-clock","component_name":"HomeMember"},{"text":"Personal Fee","icon":"mdi-account","component_name":"PersonalFee"},{"text":"Home Fee","icon":"mdi-home","component_name":"HomeFee"}],"labels":{"full_name":"Fullname","name_product":"Product name","date_pay":"Paid day","price":"Price","payer":"Payer","edit":"Edit","email":"E-mail","add_new":"New","password":"Password","detail":"Detail","add_new_member":"Add new member","home_name":"Home\'s name","address":"Address","beneficiary":"Beneficiary","cost_detail":"Detail","admin":"Admin","sum_money":"Sum money","created":"created","updated":"updated","home_info":"Home detail","login_form":"Login","menu":"Menu","member":"Members","manager":"Admin","search":"Search","date_pay_range":"Month range","select_image":"Select photo","bill":"Bill photo"},"buttons":{"edit_member":"Edit member","done":"Done","yes":"Yes","no":"No","add":"Add","cancel":"Cancel","save_edit":"Save","save":"Save","edit":"Edit Info","login":"Login","sign_up":"Sign Up","logout":"Logout","change_avatar":"Change avatar"},"messages":{"error":{"email":"Email required","not_exist_user":"User not exist","user_is_ready_in_other_home":"The user is already in a home!","required":"You need to enter information","need_create_home":"You need to create housing information first","confirm_account_fail":"Confirm account failed !","user_info_error":"The information you entered is incorrect !"},"success":{"add_done":"Add done","remove_done":"Removed","remove_fail":"Remove fail","edit_done":"Update done","edit_fail":"Update fail","add_fail":"Add fail","confirm_account_done":"Confirm account success !"},"alert":{"are_you_sure_delete":"Do you sure remove <strong>{name}</strong> ?","no_data":"No data!","create_home":"You do not have housing information!","are_you_sure_delete_confirm":"Do you sure remove  {name} ?","account_not_confirm":"The account has not been confirmed! Please confirm your account first!"},"titles":{"confirm_account":"Confirm account"}}}')}});
//# sourceMappingURL=app.69ebfd47.js.map